AOPμ—μ„ λ§μ΄ μ‚¬μ©ν•λ” μ©μ–΄λ¥Ό κ°„λ‹¨ν•κ² μ„¤λ…ν•λ‹¤.
> AOPμ— λ€ν•΄ κ°„λ‹¨ν μ„¤λ…ν•μλ©΄, Aspect Oriented Programmingμ μ•½μλ΅
> μ• ν”λ¦¬μΌ€μ΄μ…μ **ν•µμ‹¬μ μΈ κΈ°λ¥μ—μ„ λ¶€κ°€μ μΈ κΈ°λ¥μ„ λ¶„λ¦¬**ν•΄μ„ μ• μ¤ν™νΈλΌλ” λ…νΉν• λ¨λ“λ΅ λ§λ“¤μ–΄μ„ μ„¤κ³„ν•κ³  κ°λ°ν•λ” λ°©λ²•μ΄λ‹¤.
> μ°λ¦¬μ—κ² ν”ν• OOP(κ°μ²΄μ§€ν–¥ν”„λ΅κ·Έλλ°)μ™€ λ‹¤λ¥Έ ν¨λ¬λ‹¤μ„μ΄ μ•„λ‹, AOPλ” OOPλ¥Ό λ•λ” λ³΄μ΅°μ μΈ κΈ°μ μ΄λ‹¤.
(μ¶”ν›„, κΈ°νκ°€ λλ©΄ AOPμ— λ€ν•΄ μμ„Έν• ν¬μ¤ν…μ„ λ‚¨κΈΈ μμ • π)


### target
νƒ€κΉƒμ€ λ¶€κ°€κΈ°λ¥μ„ λ¶€μ—¬ν•  λ€μƒμ΄λ‹¤.

### advice
μ–΄λ“λ°”μ΄μ¤λ” νƒ€κΉƒμ—κ² μ κ³µν•  λ¶€κ°€κΈ°λ¥μ„ λ‹΄μ€ λ¨λ“μ΄λ‹¤.

### pointcut
ν¬μΈνΈμ»·μ΄λ€ μ–΄λ“λ°”μ΄μ¤λ¥Ό μ μ©ν•  μ΅°μΈν¬μΈνΈ(μ¦‰, μ–΄λ“λ°”μ΄μ¤κ°€ μ μ©λ  μ μλ” μ„μΉ)λ¥Ό μ„ λ³„ν•λ” μ‘μ—… λλ” κ·Έ κΈ°λ¥μ„ μ •μν• λ¨λ“μ„ λ§ν•λ‹¤.

> μ–΄λ“λ°”μ΄μ € = ν¬μΈνΈμ»· (λ©”μ†λ“ μ„ μ • μ•κ³ λ¦¬μ¦) + μ–΄λ“λ°”μ΄μ¤ (λ¶€κ°€κΈ°λ¥)

## μμ  μ½”λ“
#### hello μΈν„°νμ΄μ¤ 
```
static interface Hello {  
	  String sayHello(String name);  
	  String sayHi(String name);  
	  String sayThankYou(String name);  
}  
```
κ°κ°μ λ©”μ„λ“λ” μ „λ‹¬λ°›μ€ νλΌλ―Έν„° μ•μ— hello, hi, thank you λΌλ” λ¬Έμλ¥Ό λ¶™μΈλ‹¤.

#### hello μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• HelloTarget ν΄λμ¤
```
static class HelloTarget implements Hello {  
    public String sayHello(String name) {  
        return "Hello " + name;  
    }  
  
    public String sayHi(String name) {  
        return "Hi " + name;  
	}  
  
    public String sayThankYou(String name) {  
        return "Thank You " + name;  
    }  
}  
```
#### HelloTarget μ κ°κ°μ λ©”μ„λ“ κ²°κ³Όλ¥Ό λ€λ¬Έμλ΅ λ°”κΎΈλ” advice
```
static class UppercaseAdvice implements MethodInterceptor {  
  
    public Object invoke(MethodInvocation invocation) throws Throwable {  
	     String ret = (String)invocation.proceed();  
		 return ret.toUpperCase();  
    }  
}
```
#### ν•΄λ‹Ή adviceλ¥Ό μ΄μ©ν•΄ advisorλ¥Ό μƒμ„±ν•μ—¬ 'sayH'λ΅ μ‹μ‘ν•λ” λ©”μ„λ“μ— λ€ν•΄μ„λ§ κ²°κ³Όλ¥Ό λ€λ¬Έμλ΅ μ¶λ ¥ν•λ„λ΅ ν…μ¤νΈ μ½”λ“λ¥Ό μ‘μ„±ν•΄λ³΄μ
```
@Test  
public void pointcutAdvisor() {  
    ProxyFactoryBean pfBean = new ProxyFactoryBean();  
    pfBean.setTarget(new HelloTarget());  
  
    //λ©”μ„λ“ μ΄λ¦„μ„ λΉ„κµν•΄μ„ λ€μƒμ„ μ„ μ •ν•λ” μ•κ³ λ¦¬μ¦μ„ μ κ³µν•λ” ν¬μΈνΈ μ»· μƒμ„±
    NameMatchMethodPointcut pointcut = new NameMatchMethodPointcut();  
    pointcut.setMappedName("sayH*");  
  
    // ν¬μΈνΈ μ»·κ³Ό μ–΄λ“λ°”μ΄μ¤λ¥Ό advisorλ΅ λ¬¶μ–΄μ„ μ¶”κ°€
    pfBean.addAdvisor(new DefaultPointcutAdvisor(pointcut, new UppercaseAdvice()));  
  
    Hello proxiedHello = (Hello) pfBean.getObject();  
  
    assertThat(proxiedHello.sayHello("dahye"), is("HELLO DAHYE"));  
    assertThat(proxiedHello.sayHi("dahye"), is("HI DAHYE"));  
    assertThat(proxiedHello.sayThankYou("dahye"), is("Thank You dahye"));  
}
```
μ¶λ ¥ κ²°κ³Όλ” 'sayH'λ΅ μ‹μ‘ν•λ” λ©”μ„λ“μ— λ€ν•΄μ„λ§ λ€λ¬Έμλ΅ μ¶λ ¥λλ” κ²°κ³Όλ¥Ό λ³Ό μ μλ‹¤.

> λ”°λΌμ„, κ°„λ‹¨ν•κ² μ¤ν”„λ§ xmlμ„¤μ •λ§μΌλ΅λ„ μ–΄λ“λ°”μ΄μ €λ¥Ό μ„¤μ •ν•  μ μλ‹¤.
```
<bean id ="uppercaseAdvice" class="learning.test.UppercaseAdvice">
</bean>

<bean id ="uppercasePointcut" class="org.springframework.aop.support.NameMatchMethodPointcut">
	<property name="mappedName" value="sayH*"/>
</bean>

<bean id="uppercaseAdvisor" class="org.springframework.aop.support.DefaultPointcutAdvisor">
	<property name="advice" ref="uppercaseAdvice"/>
	<property name="pointcut" ref="uppercasePointcut"/>
</bean>

<bean id="uppercaseService" class="org.springframework.aop.framework.ProxyFactoryBean">
	<property name="target" ref="uppercaseServiceImpl" />
	<property name="interceptorNames">
		<list>
			<value>uppercaseAdvisor</value>
		</list>
	</property>
</bean>
```
ν•΄λ‹Ή μ½”λ“ μ²λΌ κ°„λ‹¨ν•κ² λΉ μ„¤μ •λ§μΌλ΅λ„ μ–΄λ“λ°”μ΄μ € μ„¤μ •μ„ ν•  μ μλ‹¤.

**ν¬μΈνΈ μ»·κ³Ό μ–΄λ“λ°”μ΄μ¤λ¥Ό μ΄μ©ν•΄ μ—¬λ¬ ν”„λ΅μ‹κ°€ κ³µμ ν•  μ μλ„λ΅ ν™•μ¥ κΈ°λ¥μ„ λ¶„λ¦¬ν•  μ μμ—κ³ , μƒλ΅μ΄ λΉ„μ§€λ‹μ¤ λ΅μ§μ„ λ‹΄μ€ μ„λΉ„μ¤ ν΄λμ¤κ°€ λ§λ“¤μ–΄μ Έλ„ μ΄λ―Έ λ§λ“¤μ–΄λ‘” adviceλ¥Ό κ·Έλ€λ΅ μ¬μ‚¬μ© ν•  μ μλ‹¤. ν•μ§€λ§, ν΄λμ¤ λ³„λ΅ μ„¤μ •μ΄ μ¤‘λ³µλλ” λ¬Έμ λ” ν”Όν•  μ μ—†λ‹¤. λ‹¤μ ν¬μ¤ν…μ—μ„ μ΄μ–΄μ„ μ„¤λ…ν•κ² λ‹¤.**

